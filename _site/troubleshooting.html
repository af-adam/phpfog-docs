<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>PHP Fog &mdash; Documentation Troubleshooting</title> 
		<link href="https://phpfog.com/stylesheets/site.css" rel="stylesheet">
		<link href="/css/phpfogdocs.css" rel="stylesheet">
	</head>
	<body>
		<div id='root'>
			<header>
				<div class="wrapper">
					<h1 id='logo'><a href="/">PHPFog</a></h1><h1 id='logo2'><a href="/">Docs</a></h1>
					<nav id="page-nav">
						<form id="search-form" action="/search">
							<input type="text" id="search" name="q" size="30" />
							<input class="btn-normal" type="submit" value="Search" />
						</form>
					</nav>
				</div>
			</header>
			<section id='content'>
				<div class="wrapper">
					<div id="main">
								
						<nav class="breadcrumb">
							<ul>
								<li><a href="/">Documentation</a></li>
								<li><a href="/"></a></li>
								<li>Troubleshooting</li>
							</ul>
						</nav>
								
						


						<div class="row">
							<div class="ui-box vertical-tabs">
								<div class="ui-box-vertical-tabs-header">
								</div>
								<nav class="tab-container">
										<ul class="pages">
											<li ><a href="/getting-started/"><h6>Getting Started</h6></a></li>
											
											<li ><a href="/getting-started/jumpstarts.html">Jumpstarts</a></li>
											
											<li ><a href="/getting-started/pf-command-line-tool.html">PF Command Line Tool</a></li>
											
											<li ><a href="/getting-started/ssh.html">SSH</a></li>
											
											<li ><a href="/getting-started/git.html">Git</a></li>
											
											<li ><a href="/getting-started/development.html">Development</a></li>
											
										</ul>

										<ul class="pages">
											<li ><a href="/customize/"><h6>Customize Your App</h6></a></li>
											<li><a href="http://phpfog.com/addons">Add-ons</a></li>
											
											<li ><a href="/customize/custom-domain-names.html">Custom Domain Names</a></li>
											
											<li ><a href="/customize/ssl.html">SSL for Custom Domain Names</a></li>
											
											<li ><a href="/customize/permissions.html">Permissions</a></li>
											
											<li ><a href="/customize/database.html">Database</a></li>
											
											<li ><a href="/customize/email.html">Email</a></li>
											
											<li ><a href="/customize/php_ini.html">php.ini</a></li>
											
										</ul>

										<ul class="pages">
											<li ><a href="/best-practices/"><h6>Best Practices</h6></a></li>
											
											<li ><a href="/best-practices/caching.html">Caching</a></li>
											
											<li ><a href="/best-practices/storage.html">Storage</a></li>
											
											<li ><a href="/best-practices/scaling.html">Scaling</a></li>
											
										</ul>

										<ul class="pages">
											<li ><a href="/faqs.html"><h6>FAQ</h6></a></li>
											<li> <a href="http://phpfog.com/pricing"><h6>Pricing</h6></a></li>
											<li ><a href="/billing.html"><h6>Billing</h6></a></li>
											<li ><a href="/reliability.html"><h6>Reliability</h6></a></li>
											<li ><a href="/security.html"><h6>Security</h6></a></li>
											<li class="on"><a href="/troubleshooting.html"><h6>Troubleshooting</h6></a></li>
										</ul>
										<a class="top" href="#">&uarr; Back to top</a>
									</nav>
									<div class="tab-content activated">
										<div class="on ui-box-content">
									<h2>Troubleshooting</h2>
											<ul>
  <li><a href="#ssh">SSH, Git, and PF Command Line Tool</a></li>
  <li><a href="#500">HTTP 500, 502, 503, and 504 Errors</a></li>
  <li><a href="#ssl">SSL</a></li>
</ul>

<h3 id="ssh">SSH, Git, and PF Command Line Tool</h3>

<h6 id="permission-denied-publickey">&ldquo;Permission denied (publickey)&rdquo;</h6>

<ol>
  <li>Follow our <a href="/getting-started/ssh">guide to generating your SSH key</a>.</li>
  <li>Make sure you&rsquo;re copying your <em>public</em> key into the PHP Fog app console, not your private key. </li>
  <li>If you&rsquo;re on a Mac, flush your Keychain Access cache:</li>
</ol>

<ol>
<li type="a">Open Keychain Access (Applications &rarr; Utilities &rarr; Keychain Access).</li>
<li type="a">Unlock and lock your keychain by clicking on the lock icon at the upper left.</li>
</ol>

<h6 id="unauthorized-access-for-user">&ldquo;Unauthorized access for user&rdquo;</h6>

<p>This error occurs when you try to use the same SSH key for multiple accounts. </p>

<h3 id="500">HTTP 500, 502, 503, and 504 Errors</h3>

<h6 id="internal-server-error">500: Internal Server Error</h6>

<p>HTTP 500 is a generic &ldquo;catch-all&rdquo; that indicates that the web server was unable to fulfill the HTTP/S request. This is usually caused by syntax errors, script run times, or deployment issues. </p>

<p>You can usually diagnose this issue by turning on PHP error reporting. Just go to your PHP Fog app console, click on the &ldquo;Settings&rdquo; tab, and click the &ldquo;Display Errors&rdquo; button. Then go back to your app and you should get a stack trace of where your app is hitting an error. </p>

<p>If you still don&rsquo;t get anything besides an HTTP 500, it&rsquo;s probably an issue with your <code>.htaccess</code> file. Check that file for syntax errors. </p>

<h6 id="bad-gateway">502: Bad Gateway</h6>

<p>HTTP 502 errors are extremely rare and generally due to an infrastructure failure. If you receive this error, wait a few minutes and try again. If you experience this issue for longer than a few minutes, <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#115;&#117;&#112;&#112;&#111;&#114;&#116;&#064;&#097;&#112;&#112;&#102;&#111;&#103;&#046;&#099;&#111;&#109;">&#101;&#109;&#097;&#105;&#108;&#032;&#117;&#115;</a> and we&rsquo;ll work to resolve the issue as fast as possible.</p>

<h6 id="service-unavailable">503: Service Unavailable</h6>

<p>HTTP 503 errors are effectively &ldquo;Closed For Repair&rdquo; errors and are specified by your app. These errors happen when your app is set to return this error directly. To resolve this error message you will need to check your Apps&rsquo; settings and code to stop your app from returning this error directly.</p>

<h6 id="gateway-timeout">504: Gateway Timeout</h6>

<p>HTTP 504 Gateway Timeout
This error is due to your app being unable to service requests. Because this error is returned by Apache, it is highly likely your App being overloaded with requests from visitors. To address this issue read this article talking about 504 errors.</p>

<p>The Load Balancer between the HTTP Client and your application is configured to timeout requests after 60 seconds and result in a &ldquo;504 Gateway Time-out&rdquo; error being returned to the HTTP client (i.e. browser). This can be caused by blocking sync calls to other services or because of CPU over-utilization. There are also a number of mitigations to deal with these problems.</p>

<p>Blocking calls to other services</p>

<p>If your application makes calls to third party services (like the examples below) these calls may be blocking. That is, when your applications make a call to a method like file_get_contents() it will not return until the full HTTP transaction is complete. Making numerous calls like this may cause the time to complete all the transactions longer than the timeout period of the HTTP servers.</p>

<p>Sending an email</p>

<p>Calling a remote API (e.g. Twitter, Facebook, etc)
Web scraping
CPU over-utilization
If using the Silver or Free plan the CPU utilization is throttled in &ldquo;Bursts&rdquo;. These plans provide a small amount of consistent CPU resources and allow your application to burst CPU capacity when additional cycles are available. They are well suited for lower throughput applications and web sites that consume significant compute cycles periodically. If the processing takes longer than a burst, the processing gets heavily throttled. This means something that can take just a few seconds on your desktop might take much longer on these plans and therefore cause the HTTP request to timeout.</p>

<p>Rendering an image or PDF
XML parsing of a large file
Heave calculations (e.g. Fourier transform of an MP3)
Mitigations
Use asynchronous calls instead of synchronous calls. This only makes sense when your application doesn&rsquo;t need the returned value. Check out the StackOverflow article Asynchronous PHP Calls for more info.
Upgrade to a Gold or Platinum plan. The Gold and Platinum plans are not throttle for bursts therefore your application gets consistent processing. This is a very simple implementation; however, it might not suffice. This is only useful if the processing time is fast enough that it can be processed synchronously and returned to the requester.
Use a dedicated EC2 sever for asynchronous processing. Create a new Amazon EC2 server dedicated to the heavy processing (the &ldquo;worker&rdquo;), and use the Amazon SQS to queue jobs. This way the front-end can add jobs to the queue and then the worker can pull and process them as it becomes available. This design enables more efficient utilization of resources and ability to handle</p>

<p>More Information
For more information on 500 errors and how to diagnose them for your specific situation, please check out the following links:</p>

<p>Wikipedia Article
Drupal
WordPress</p>

<h3 id="ssl">SSL</h3>

<h6 id="doman-name-mismatch">&ldquo;Doman name mismatch&rdquo;</h6>

<p>My browser says that there is a &ldquo;domain name mismatch.&rdquo; What does that mean?</p>

<p>A domain name mismatch happens when your certificate says you domain name is something and your site address is actually something else (IE www.foo.com vs foo.com)</p>

<p>The Solution: Change your site&rsquo;s name to match the certificate. Alternatively, you can have a new certificate issued to match your site (this includes wildcard certificates i.e. *.foo.com)</p>

<h6 id="cannot-verify">&ldquo;Cannot verify&rdquo;</h6>

<p>My browser says that it &ldquo;Cannot Verify&rdquo; the site! What&rsquo;s going on?
Many things could be wrong. Most commonly, however, your certificate has expired.
The Solution: Get your Certificate Authority to update your certificate.</p>

<h6 id="my-certificate-authority-says-i-need-a-csr-what-can-i-do">My Certificate authority says I need a CSR, what can I do?</h6>

<p>The Solution: To generate a CSR on your local machine for PHP Fog check out this Document</p>


										</div>
									</div>
							</div>
						</div>
					</div>
				</div>
				<div id="root_footer"></div>
			</section>

		</div>
		<footer>
		<div class='wrapper'>
		<div class='logo'>
		<h5>PHP Fog</h5>
		<p>&copy; 2012. All Rights Reserved.</p>
		</div>
		<div class='contact'>
		<h4>Contact Us</h4>
		<ul>
		<li><a href="http://help.phpfog.com">Support</a></li>
		<li><a href="/about">About Us</a></li>
		<li><a href="http://docs.phpfog.com">Documentation</a></li>
		<li class='phone'>1.888.974.7364</li>
		<li class='phone'>1.888.9.PHPFOG</li>
		</ul>
		</div>
		<div class='more-info'>
		<h4>More Info</h4>
		<ul>
		<!-- /%li= link_to "Free Tools", tools_path -->
		<!-- %li -->
		<!-- = link_to "Enterprise", enterprise_path -->
		<li>
		<a href="/privacy">Privacy Policy</a>
		</li>
		<li>
		<a href="/service_agreement">Service Agreement</a>
		</li>
		<li>
		<a href="/terms_of_service">Terms of Service</a>
		</li>
		</ul>
		</div>
		<div class='social'>
		<h4>Social</h4>
		<ul>
		<li class='blog'>
		<a href='http://blog.phpfog.com/'>Blog</a>
		</li>
		<li class='twitter'>
		<a href='http://twitter.com/phpfog'>Twitter</a>
		</li>
		<li class='facebook'>
		<a href='http://on.fb.me/phpfog'>Facebook</a>
		</li>
		<li class='community'>
		<a href='http://community.phpfog.com'>Community</a>
		</li>
		</ul>
		</div>
		</div>
		</footer>
	</body>
</html>
