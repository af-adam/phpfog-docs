<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>PHP Fog &mdash; Documentation Database</title> 
		<link href="https://phpfog.com/stylesheets/site.css" rel="stylesheet">
	</head>
	<body>
		<div id='root'>
			<header>
				<div class="wrapper">
					<h1 id='logo'><a href="/">PHPFog</a></h1><h1>Docs</h1>
				</div>
			</header>
			<section id='content'>
				<div class="wrapper">
					<div id="main">
						<nav class="breadcrumb">
							<ul>
								<li><a href="/">Documentation</a></li>
								<li><a href="/customize">Customize Your App</a></li>
								<li>Database</li>
							</ul>
						</nav>

						<div class="row">
							<div class="ui-box vertical-tabs">
								<div class="ui-box-vertical-tabs-header">
								</div>
								<nav class="tab-container">
										<ul class="pages">
											<li><a href="/getting-started/"><h6>Getting Started</h6></a></li>
											
											<li ><a href="/getting-started/jumpstarts.html">Jumpstarts</a></li>
											
											<li ><a href="/getting-started/pf-command-line-tool.html">PF Command Line Tool</a></li>
											
											<li ><a href="/getting-started/git.html">Git</a></li>
											
										</ul>

										<ul class="pages">
											<li><a href="/customize/"><h6>Customize Your App</h6></a></li>
											
											<li ><a href="/customize/add-ons.html">Add-ons</a></li>
											
											<li ><a href="/customize/custom-domain-names.html">Custom Domain Names</a></li>
											
											<li ><a href="/customize/ssl.html">SSL for Custom Domain Names</a></li>
											
											<li ><a href="/customize/permissions.html">Permissions</a></li>
											
											<li class="on"><a href="/customize/database.html">Database</a></li>
											
											<li ><a href="/customize/sending-email.html">Sending Email</a></li>
											
											<li ><a href="/customize/php_ini.html">php.ini</a></li>
											
										</ul>

										<ul class="pages">
											<li><a href="/best-practices/"><h6>Best Practices</h6></a></li>
											
											<li ><a href="/best-practices/caching.html">Caching</a></li>
											
											<li ><a href="/best-practices/scaling.html">Scaling</a></li>
											
											<li ><a href="/best-practices/preventing-data-loss.html">Preventing Data Loss</a></li>
											
										</ul>

										<ul class="pages">
											<li><a href="/faqs"><h6>FAQs</h6></a></li>
											<li><a href="/troubleshooting"><h6>Troubleshooting</h6></a></li>
										</ul>
									</nav>
									<div class="tab-content activated">
										<div class="on ui-box-content">
									<h2>Database</h2>
											<p>PHP Fog provides each app with a MySQL database of 20MB.</p>

<h2 id="increasing-database-capacity">Increasing Database Capacity</h2>

<p>Database capacity beyond the initial 20MB costs $2/GB per month. </p>

<ol>
  <li>Go to your PHP Fog app console.</li>
  <li>Click on the “Database” tab on the left.</li>
  <li>Use the slider to increase the capacity to suit your needs.</li>
  <li>Click on “Save Changes”.</li>
</ol>

<h2 id="accessing-the-database-through-phpmyadmin">Accessing the Database through phpMyAdmin</h2>

<ol>
  <li>Go to your PHP Fog app console.</li>
  <li>Click on the “Database” tab on the left.</li>
  <li>Click on the “Launch phpMyAdmin” button.</li>
  <li>Log in with your MySQL credentials.</li>
</ol>

<h2 id="backups">Backups</h2>

<p>PHP Fog backs up your app’s database on a daily basis and keeps the data for one week. Need a backup of your database? Just contact <a href="mailto:support@appfog.com">support@appfog.com</a>.</p>

<p>You can also perform manual backups by exporting your app’s database through phpMyAdmin. We don’t support automated backups to users’ systems yet, but that feature is on our road map. </p>

<h2 id="remote-database-access">Remote Database Access</h2>

<p>Access to an app’s database is currently restricted to your PHP app and phpMyAdmin. </p>

<h2 id="third-party-databases">Third Party Databases</h2>

<p>You can configure your app to use a third party database e.g. an Amazon RDS instance. </p>

<h3 id="amazon-relational-database-service">Amazon Relational Database Service</h3>

<p>Amazon RDS is a cloud-based relational database that’s easy to set up, operate, and scale. Read more about it <a href="http://aws.amazon.com/rds/">here</a></p>

<h3 id="back-up-your-database-through-phpmyadmin">1. Back up your database through phpMyAdmin.</h3>

<h3 id="create-an-amazon-web-services-account-if-you-dont-already-have-one">2. Create an Amazon Web Services account if you don’t already have one.</h3>

<p>Sign up <a href="http://aws.amazon.com/">here</a>.</p>

<h3 id="set-up-rds">3. Set up RDS.</h3>

<p>Make sure to note your database’s name, user ID, password, and host name.</p>

<h3 id="set-up-your-security-group">4. Set up your Security Group.</h3>

<p>a. In the RDS tab of your AWS Management Console, click on “DB Security Groups” in the Navigation menu on the left.</p>

<p>b. Click on the “Create DB Security Group” button, and give your new group a name and description.</p>

<p>c. Select the security group you just created. </p>

<p>d. In the “Description” tab at the bottom: 
	Set the drop down to “EC2 Security Group”. 
	Change the AWS Account ID to “512617943067”.
	Set the “EC2 Security Group” field to “fog_user”.</p>

<p>e. Wait for the status to change to “authorized”.</p>

<h3 id="change-your-apps-database-configuration">5. Change your app’s database configuration.</h3>

<p>We’ll use WordPress as an example.</p>

<p>a. In your WordPress app’s git repository, find the file <code>wp-config.php</code> and open it in your favorite text editor.</p>

<p>b. Find the following code and input the information from your RDS database:</p>

<pre><code>define('DB_NAME', '&lt;your RDS database's name&gt;');

/** MySQL database username */
define('DB_USER', '&lt;your RDS user ID&gt;');

/** MySQL database password */
define('DB_PASSWORD', '&lt;your RDS password&gt;');

/** MySQL hostname */
define('DB_HOST', '&lt;your RDS host name&gt;');

/** Database Charset to use in creating database tables. */
define('DB_CHARSET', 'utf8');

/** The Database Collate type. Don't change this if in doubt. */
define('DB_COLLATE', '');
</code></pre>

<p>c. Save and quit.</p>

<p>d. Commit your changes to git (but don’t push yet).</p>

<h3 id="synchronize-your-databases">6. Synchronize your databases.</h3>

<p>a. Log in to your phpMyAdmin and click on the “Synchronize” tab at the top.</p>

<p>b. Under “Source database”, set the drop down menu to “Current connection”.</p>

<p>c. Under “Target database”, enter your RDS database information. (Leave the “Socket” field blank.)</p>

<p>d. Hit the “Go” button.</p>

<h3 id="push-your-code-to-php-fog">7. Push your code to PHP Fog.</h3>

<p>You’re done!</p>


										</div>
									</div>
							</div>
						</div>
					</div>
				</div>
				<div id="root_footer"></div>
			</section>

		</div>
		<footer>
		<div class='wrapper'>
		<div class='logo'>
		<h5>PHP Fog</h5>
		<p>&copy; 2012. All Rights Reserved.</p>
		</div>
		<div class='contact'>
		<h4>Contact Us</h4>
		<ul>
		<li><a href="http://help.phpfog.com">Support</a></li>
		<li><a href="/about">About Us</a></li>
		<li><a href="http://docs.phpfog.com">Documentation</a></li>
		<li class='phone'>1.888.974.7364</li>
		<li class='phone'>1.888.9.PHPFOG</li>
		</ul>
		</div>
		<div class='more-info'>
		<h4>More Info</h4>
		<ul>
		<!-- /%li= link_to "Free Tools", tools_path -->
		<!-- %li -->
		<!-- = link_to "Enterprise", enterprise_path -->
		<li>
		<a href="/privacy">Privacy Policy</a>
		</li>
		<li>
		<a href="/service_agreement">Service Agreement</a>
		</li>
		<li>
		<a href="/terms_of_service">Terms of Service</a>
		</li>
		</ul>
		</div>
		<div class='social'>
		<h4>Social</h4>
		<ul>
		<li class='blog'>
		<a href='http://blog.phpfog.com/'>Blog</a>
		</li>
		<li class='twitter'>
		<a href='http://twitter.com/phpfog'>Twitter</a>
		</li>
		<li class='facebook'>
		<a href='http://on.fb.me/phpfog'>Facebook</a>
		</li>
		<li class='community'>
		<a href='http://community.phpfog.com'>Community</a>
		</li>
		</ul>
		</div>
		</div>
		</footer>
	</body>
</html>
