<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>PHP Fog &mdash; Documentation Database</title> 
		<link href="/css/style.css" rel="stylesheet">
		<link href="/css/phpfogdocs.css" rel="stylesheet">
		
		<link rel="icon" type="image/png" href="https://phpfog.com/favicon.ico" />
	</head>
	<body id="blog">
	<div id="header">
		<div class="container">
			<a href="http://appfog.com/" id="app_fog"><img src="http://afblog.phpfogapp.com/wp-content/themes/appfog/images/app-fog.png" width="189" height="47" alt="App Fog"></a>
			<ul id="main_nav">
				<li id="nproducts">
					<a href="#" title="Products" class="parent"><span>Products</span></a>
					<ul>
						<li><a href="http://phpfog.com/">PHP Fog</a></li>
						<li><a href="http://appfog.com/">AppFog</a></li>
					</ul>
				</li>
				<li id="ndocs" class="active"><a href="/" title="Docs">Docs</a></li>
				<li id="nshowcase"><a href="http://appfog.com/showcase/" title="Showcase">Showcase</a></li>
				<li id="nabout"><a href="http://appfog.com/about/" title="About">About</a></li>
				<li id="nsupport"><a href="http://appfog.com/support/" title="Support">Support</a></li>
				<li id="nblog"><a href="http://afblog.phpfogapp.com/" title="Blog">Blog</a></li>
			</ul>
		</div> 
	</div>
	<div id="main_content">
		<div class='container'>

			
			<div id="top_bar" class="row gray_blue margin_bottom">
				<div class="span12">
					<a href="/"><h1 class="title">PHP Fog Docs</h1></a>
					<ul id="docs_nav">
						
						<li class="breadcrumb-separator">&raquo;</li>
						<li><a href="/customize">Customize Your App</a></li>
						
						<li class="breadcrumb-separator">&raquo;</li>
						<li><a href="#">Database</a></li>
					</ul>
					<!--<ul id="secondary_nav">
						<li><a href="http://docs.appfog.com">AppFog Docs</a></li>
					</ul>-->
				</div>

			</div>
			
					


			<div id="content" class="row white">
				<div class="span8 main_content">
					<div class="row entries">
	<div class="span8">
		<div class="row">
			<div class="span8">
				<h1>Database</h1>
				<p>PHP Fog provides each app with a MySQL database of 20MB.</p>

<h3 id="accessing-the-database-through-phpmyadmin">Accessing the Database through phpMyAdmin</h3>

<ol>
  <li>Go to your PHP Fog app console.</li>
  <li>Click on the “Database” tab on the left.</li>
  <li>Click on the “Launch phpMyAdmin” button.</li>
  <li>Log in with your MySQL credentials.</li>
</ol>

<p><img class="screenshot" src="/img/screenshots/database.png" alt="Database" /></p>

<h3 id="increasing-database-capacity">Increasing Database Capacity</h3>

<p>Database capacity beyond the initial 20MB costs $2/GB per month. </p>

<ol>
  <li>Go to your PHP Fog app console.</li>
  <li>Click on the “Database” tab on the left.</li>
  <li>Use the slider to increase the capacity to suit your needs.</li>
  <li>Click on “Save Changes”.</li>
</ol>

<p><img class="screenshot" src="/img/screenshots/database-cap.png" alt="Database Capacity" /></p>

<h3 id="backups">Backups</h3>

<p>You can perform manual backups of your app’s database by exporting it through phpMyAdmin. We don’t support automated backups to users’ systems yet, but that feature is on our road map. </p>

<p>PHP Fog also backs up your app’s database on a daily basis and keeps the backups for one week. You can contact <a href="mailto:support@appfog.com">support@appfog.com</a> for access to these.</p>

<h3 id="remote-database-access">Remote Database Access</h3>

<p>Access to an app’s database is currently restricted to your PHP app and phpMyAdmin. </p>

<h3 id="third-party-databases">Third-Party Databases</h3>

<p>You can configure your app to use a third-party database, e.g. an Amazon RDS instance, which is a cloud-based relational database that’s easy to set up, operate, and scale. Read more about it <a href="http://aws.amazon.com/rds/">here</a>.</p>

<p>Let’s walk through the configuration of an RDS instance. </p>

<h4 id="back-up-your-database-through-phpmyadmin">1. Back up your database through phpMyAdmin.</h4>

<h4 id="create-an-amazon-web-services-account-if-you-dont-already-have-one">2. Create an Amazon Web Services account if you don’t already have one.</h4>

<p>Sign up <a href="http://aws.amazon.com/">here</a>.</p>

<h4 id="set-up-rds">3. Set up RDS.</h4>

<p>Make sure to note your database’s name, user ID, password, and host name.</p>

<h4 id="set-up-your-security-group">4. Set up your Security Group.</h4>

<p>a. In the “RDS” tab of your AWS Management Console, click on “DB Security Groups” in the “Navigation” menu on the left.</p>

<p>b. Click on the “Create DB Security Group” button, and give your new group a name and description.</p>

<p>c. Select the security group you just created. </p>

<p>d. In the “Description” tab at the bottom: 
	Set the drop down to “EC2 Security Group”. 
	Change the “AWS Account ID” to “512617943067”.
	Set the “EC2 Security Group” field to “fog_user”.</p>

<p>e. Wait for the status to change to “authorized”.</p>

<h4 id="change-your-apps-database-configuration">5. Change your app’s database configuration.</h4>

<p>We’ll use WordPress as an example.</p>

<p>a. In your WordPress app’s git repository, find the file <code>wp-config.php</code> and open it in your favorite text editor.</p>

<p>b. Find the following code and input the information from your RDS database:</p>

<pre><code>define('DB_NAME', '&lt;your RDS database's name&gt;');

/** MySQL database username */
define('DB_USER', '&lt;your RDS user ID&gt;');

/** MySQL database password */
define('DB_PASSWORD', '&lt;your RDS password&gt;');

/** MySQL hostname */
define('DB_HOST', '&lt;your RDS host name&gt;');

/** Database Charset to use in creating database tables. */
define('DB_CHARSET', 'utf8');

/** The Database Collate type. Don't change this if in doubt. */
define('DB_COLLATE', '');
</code></pre>

<p>c. Save and quit.</p>

<p>d. Commit your changes to git (but don’t push yet).</p>

<h4 id="synchronize-your-databases">6. Synchronize your databases.</h4>

<p>a. Log in to your phpMyAdmin and click on the “Synchronize” tab at the top.</p>

<p>b. Under “Source database”, set the drop down menu to “Current connection”.</p>

<p>c. Under “Target database”, enter your RDS database information. (Leave the “Socket” field blank.)</p>

<p>d. Hit the “Go” button.</p>

<h4 id="push-your-code-to-php-fog">7. Push your code to PHP Fog.</h4>

<p>You’re done!</p>


			</div>
		</div>
	</div>
</div>

				</div>

				<div class="span3 sidebar padding">
					<div class="row border-bottom">
						<div class="span3">
							<form id="search-form" action="/search">
								<input type="search" placeholder="Search" id="search" name="q" size="30" />
								<input class="btn gray_blue search" type="submit" value="Go" />
							</form>
						</div>
					</div>
					<div class="row border-bottom ">
						<div class="span3">
							<a href="/"><h6>PHP Fog Docs</h6></a>
						</div>
					</div>
					<div class="row border-bottom">
						<div class="span3">
							<a href="/getting-started/" ><h6>Getting Started</h6></a>
						</div>
					</div>
					<ul class="pages">
						
						<li><a href="/getting-started/jumpstarts.html" >Jumpstarts</a></li>
						
						<li><a href="/getting-started/pf-command-line-tool.html" >PF Command Line Tool</a></li>
						
						<li><a href="/getting-started/ssh.html" >SSH</a></li>
						
						<li><a href="/getting-started/git.html" >Git</a></li>
						
						<li><a href="/getting-started/env-vars.html" >Environment Variables</a></li>
						
						<li><a href="/getting-started/development.html" >Development</a></li>
						
					</ul>

					<div class="row border-bottom">
						<div class="span3">
							<a href="/customize/" ><h6>Customize Your App</h6></a>
						</div>
					</div>
					<ul class="pages">
						
						<li><a href="/customize/custom-domain-names.html" >Custom Domain Names</a></li>
						
						<li><a href="/customize/ssl.html" >SSL for Custom Domain Names</a></li>
						
						<li><a href="/customize/permissions.html" >Permissions</a></li>
						
						<li><a href="/customize/database.html" class="on">Database</a></li>
						
						<li><a href="/customize/email.html" >Email</a></li>
						
						<li><a href="/customize/php_ini.html" >php.ini</a></li>
						
					</ul>

					<div class="row border-bottom">
						<div class="span3">
							<a href="/best-practices/" ><h6>Best Practices</h6></a>
						</div>
					</div>
					<ul class="pages">
						
						<li><a href="/best-practices/caching.html" >Caching</a></li>
						
						<li><a href="/best-practices/storage.html" >Storage</a></li>
						
						<li><a href="/best-practices/scaling.html" >Scaling</a></li>
						
					</ul>

						<div class="row border-bottom"><div class="span3"><a href="/faqs.html" ><h6>FAQ</h6></div></a></div>
						<div class="row border-bottom"><div class="span3"><a href="http://phpfog.com/pricing"><h6>Pricing</h6></a></div></div>
						<div class="row border-bottom"><div class="span3"><a href="/billing.html" ><h6>Billing</h6></div></a></div>
						<div class="row border-bottom"><div class="span3"><a href="/reliability.html" ><h6>Reliability</h6></div></a></div>
						<div class="row border-bottom"><div class="span3"><a href="/security.html" ><h6>Security</h6></div></a></div>
						<div class="row border-bottom"><div class="span3"><a href="/troubleshooting.html" ><h6>Troubleshooting</h6></div></a></div>

						<div class="row top-link"><div class="span3"><a href="#">&uarr; top</a></div></div>

					</div>
				</div>
			</div><!-- content -->
		</div><!-- container -->
	</div><!-- main_content -->

	<div id="footer">
		<div class="container">
			<div class="row">
				<div class="span1">
					<img src="http://afblog.phpfogapp.com/wp-content/themes/appfog/images/bydevfordev_95.png" width="95" height="79" alt="By Developers For Developers" id="badge">
				</div>
				<div class="span3">
					<h4>About AppFog</h4>
					<p>Easily build and deploy fast, scalable, and reliable applications to the cloud in seconds. Yeah, it’s that easy.</p>					
				</div>
				<div class="span2">
					<h4>Info</h4>
					<ul>
						<li><a href="http://appfog.com/support/">Support</a></li>
						<li><a href="https://appfog.com/about/">About</a></li>
						<li><a href="http://dev.appfog.com/">Documentation</a></li>
					</ul>
				</div>
				<div class="span2 offsettop">
					<ul>
						<li>Phone: 1.888.974.7364</li>
						<li>&copy; <script>document.write(new Date().getFullYear());</script> AppFog.</li>
						<li>All Rights Reserved.</li>
					</ul>
				</div>
				<div class="span4">
					<h4>Social</h4>
					<ul id="social">
						<li id="facebook"><a href="http://www.facebook.com/pages/AppFog/159333004147490">Facebook</a></li>
						<li id="twitter"><a href="https://twitter.com/#!/appfog">Twitter</a></li>
						<li id="linkedin"><a href="http://www.linkedin.com/company/appfog">LinkedIn</a></li>
					</ul>
				</div>
			</div>
		</div> <!-- / .container -->
	</div>
	
	
<!-- scripts -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://afblog.phpfogapp.com/wp-content/themes/appfog/js/libs/jquery-1.7.1.min.js"><\/script>')</script>
<script src="http://afblog.phpfogapp.com/wp-content/themes/appfog/js/plugins.js"></script>
<script src="http://afblog.phpfogapp.com/wp-content/themes/appfog/js/script.js"></script>

</body>
</html>
