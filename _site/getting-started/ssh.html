<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>PHP Fog &mdash; Documentation SSH</title> 
		<link href="https://phpfog.com/stylesheets/site.css" rel="stylesheet">
		<link href="/css/phpfogdocs.css" rel="stylesheet">
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
		<link rel="icon" type="image/png" href="https://phpfog.com/favicon.ico" />
	</head>
	<body>
		<div id='root'>
			<header>
				<div class="wrapper">
					<h1 id='logo'><a href="/">PHPFog</a></h1><h1 id='logo2'><a href="/">Docs</a></h1>
					<nav id="page-nav">
						<form id="search-form" action="/search">
							<input type="text" id="search" name="q" size="30" />
							<input class="btn-normal" type="submit" value="Search" />
						</form>
					</nav>
				</div>
			</header>
			<section id='content'>
				<div class="wrapper">
					<div id="main">
								
						<nav class="breadcrumb">
							<ul>
								<li><a href="/">Documentation</a></li>
								<li><a href="/getting-started">Getting Started</a></li>
								<li>SSH</li>
							</ul>
						</nav>
								
						


						<div class="row">
							<div class="ui-box vertical-tabs">
								<div class="ui-box-vertical-tabs-header">
								</div>
								<nav class="tab-container">
										<ul class="pages">
											<li ><a href="/getting-started/"><h6>Getting Started</h6></a></li>
											
											<li ><a href="/getting-started/jumpstarts.html">Jumpstarts</a></li>
											
											<li ><a href="/getting-started/pf-command-line-tool.html">PF Command Line Tool</a></li>
											
											<li class="on"><a href="/getting-started/ssh.html">SSH</a></li>
											
											<li ><a href="/getting-started/git.html">Git</a></li>
											
											<li ><a href="/getting-started/development.html">Development</a></li>
											
										</ul>

										<ul class="pages">
											<li ><a href="/customize/"><h6>Customize Your App</h6></a></li>
											<li><a href="http://phpfog.com/addons">Add-ons</a></li>
											
											<li ><a href="/customize/custom-domain-names.html">Custom Domain Names</a></li>
											
											<li ><a href="/customize/ssl.html">SSL for Custom Domain Names</a></li>
											
											<li ><a href="/customize/permissions.html">Permissions</a></li>
											
											<li ><a href="/customize/database.html">Database</a></li>
											
											<li ><a href="/customize/email.html">Email</a></li>
											
											<li ><a href="/customize/php_ini.html">php.ini</a></li>
											
										</ul>

										<ul class="pages">
											<li ><a href="/best-practices/"><h6>Best Practices</h6></a></li>
											
											<li ><a href="/best-practices/caching.html">Caching</a></li>
											
											<li ><a href="/best-practices/storage.html">Storage</a></li>
											
											<li ><a href="/best-practices/scaling.html">Scaling</a></li>
											
										</ul>

										<ul class="pages">
											<li ><a href="/faqs.html"><h6>FAQ</h6></a></li>
											<li> <a href="http://phpfog.com/pricing"><h6>Pricing</h6></a></li>
											<li ><a href="/billing.html"><h6>Billing</h6></a></li>
											<li ><a href="/reliability.html"><h6>Reliability</h6></a></li>
											<li ><a href="/security.html"><h6>Security</h6></a></li>
											<li ><a href="/troubleshooting.html"><h6>Troubleshooting</h6></a></li>
										</ul>
										<a class="top" href="#">&uarr; Back to top</a>
									</nav>
									<div class="tab-content activated">
										<div class="on ui-box-content">
									<h2>SSH</h2>
											<p>In order to access and modify your source code on PHP Fog, you&rsquo;ll need to generate an SSH key and add it to your PHP Fog account. This tutorial will walk you through that process for Mac OS X. </p>

<h3 id="first-make-sure-you-dont-have-a-key-already">1. First, make sure you don&rsquo;t have a key already.</h3>

<pre><code>$ cd ~/.ssh
</code></pre>

<p>If you get &ldquo;no such file or directory&rdquo;, create the directory: </p>

<pre><code>$ mkdir ~/.ssh
</code></pre>

<p>Then, <a href="#generate">skip ahead to &ldquo;3. Generate Your Key&rdquo;</a>.</p>

<h3 id="backup-and-remove-existing-ssh-keys">2. Backup and remove existing SSH keys.</h3>

<p>If the directory exists, check to see if you already have a keypair in it: </p>

<pre><code>$ ls
</code></pre>

<p>If you don&rsquo;t see any files named &ldquo;id_rsa&rdquo; or &ldquo;id_rsa.pub&rdquo; <a href="#generate">skip ahead to &ldquo;3. Generate Your Key&rdquo;</a>. </p>

<p>If they exist, you&rsquo;ll you need to back them up by creating a new directory and moving those files there.</p>

<pre><code>$ mkdir key_backup
$ mv id_rsa* key_backup/
</code></pre>

<h3 id="generate">3. Generate your key.</h3>

<p>Run this command: </p>

<pre><code>$ ssh-keygen -t rsa
</code></pre>

<p>Terminal will start the key generation process and you should see this:</p>

<pre><code>Generating public/private rsa key pair.
</code></pre>

<p>Terminal will prompt you for the name of the file in which to save the key.</p>

<pre><code>Enter file in which to save the key (/Users/PHPFog/.ssh/id_rsa):
</code></pre>

<p>When asked about the directory, we recommend using the default name and location (<code>id_rsa</code>). Just hit &lsquo;Enter&rsquo; to use the default filename.</p>

<p>Note: Git and other tools generally look for keys in the default directory, so using a different directory may have unintended consequences.</p>

<h3 id="enter-a-passphrase-for-your-new-key">4. Enter a passphrase for your new key.</h3>

<pre><code>Enter passphrase (empty for no passphrase):
Enter same passphrase again:
This password is used to protect the private key.
</code></pre>

<p>If the passphrases match, you&rsquo;ll get a keypair.</p>

<pre><code>Your identification has been saved in /Users/PHPFog/.ssh/id_rsa.
Your public key has been saved in /Users/PHPFog/.ssh/id_rsa.pub.
The key fingerprint is:
31:be:4f:13:d4:68:f1:43:ea:97:9b:33:ad:b6:e5:85 us@phpfog.com
The key's randomart image is:
+--[ RSA 2048]----+
| . . |
| B |
| o = + |
| . * o |
| S o o |
| . o + . |
| . o = E .|
| o ..* . |
| ..o.. |
+-----------------+
</code></pre>

<p>Note: On Windows the path &ldquo;/Users/PHPFog/.ssh/&rdquo; is going to be different.</p>

<h3 id="copy-the-public-key-and-add-it-to-your-php-fog-account">5. Copy the public key and add it to your PHP Fog account.</h3>

<p>Open your public key with a text editor and copy the entire text.</p>

<p>A real key will look like:</p>

<pre><code>ssh-rsa
AAAAB3NzaC1yc2EAAAADAQABAAABAQDgMaD2kOEQAq0ir0C/U3880mFmpv
K0/7/qaYx8Uu2GFnsBabIsPJttndqAl6/k1Du4c2s2S+Aem0qS+R4hbSDDuWqjZbEH
ks5qiAjD64vCavRwl96pKk/bvNB4sCe0MTsrPEU0rzI/MFDkCp8UkwonJkDVGafkhGIu
UtVrXlCd5JrZFUUvYmLQoLdiTTjCJeBlfG46VqdX2qg4LRN2tMWecYhXrb+ghXsk
7MfVo+RGQ9pQsiozbd2oROWOsoy2XKPsE2wXXINMpHAg/r6XUzddkW3mAfLAJ
D7Te78lX+AImxPYhOQccODJlswTTlxKNZuqa9znAGaiyf1pYigHLVD5
us@phpfog.com
</code></pre>

<p>Now log in to the PHP Fog App Console and click on the &ldquo;SSH Keys&rdquo; tab. Hit the &ldquo;Add another SSH key&rdquo; button and paste the public key into the &ldquo;SSH Public Key&rdquo; field, give it a name, and hit &ldquo;Save Changes&rdquo;.</p>

<p>That&rsquo;s it, you&rsquo;ve generated a new SSH key and added it to PHP Fog!</p>

<h2 id="handling-multiple-ssh-keys-for-a-single-account">Handling Multiple SSH Keys for a Single Account</h2>

<p>Sometimes you need to give more than one person SSH access to your PHP Fog git repository. Fortunately, adding more SSH keys to your account is easy. </p>

<p>Just go to your PHP Fog account, click on the &ldquo;SSH Keys&rdquo; tab, and hit the &ldquo;Add another SSH key&rdquo; button. </p>

<p>Give the new key a name, paste in the contents of the public key, hit &ldquo;Save SSH Key&rdquo;, and you&rsquo;re done!</p>

<h2 id="multiple">Handling SSH Keys for Multiple Accounts</h2>

<p>Sometimes you need SSH access to multiple PHP Fog accounts. Unfortunately, you can&rsquo;t use the same key with multiple accounts, so you&rsquo;ll have to generate a new key for each account you want access to. </p>

<p>If you don&rsquo;t have any SSH keys set up with PHP Fog yet, head to the top of this page and follow the guide on creating and adding an SSH key. If you already have one set up, read on:</p>

<h3 id="generate-a-second-key">1. Generate a second key.</h3>

<p>In your terminal application, make the following commands:</p>

<pre><code>$ cd ~/.ssh
$ ssh-keygen -t rsa
</code></pre>

<p>You should see something like this:</p>

<pre><code>Generating public/private rsa key pair.
Enter file in which to save the key (/Users/&lt;your username&gt;/.ssh/id_rsa): 
</code></pre>

<p>That filename should already be taken by your first key, so enter this one instead:</p>

<pre><code>/Users/&lt;your username&gt;/.ssh/id_rsa_1 
</code></pre>

<p>After you enter your passphrase (twice), you should see output that looks like this: </p>

<pre><code>Your identification has been saved in /Users/&lt;your username&gt;/.ssh/id_rsa_1.
Your public key has been saved in /Users/&lt;your username&gt;/.ssh/id_rsa_1.pub.
The key fingerprint is:
fc:c2:61:19:ed:49:ff:df:fb:e8:0c:46:4a:96:dc:2d &lt;your username&gt;@&lt;your computer's name&gt;
The key's randomart image is:
+--[ RSA 2048]----+
|                 |
|         .       |
|        . o      |
|       . * = .   |
|        S B E .  |
|       o = o o   |
|        o o o .  |
|         . . o o.|
|             .+.*|
+-----------------+
</code></pre>

<p>Finally, run the following:</p>

<pre><code>$ ssh-add ~/.ssh/id_rsa_1
</code></pre>

<h3 id="add-your-new-ssh-key-to-the-second-account">2. Add your new SSH key to the second account.</h3>

<p>Now go to your PHP Fog account, click on the &ldquo;SSH Keys&rdquo; tab, and hit the &ldquo;Add another SSH key&rdquo; button. </p>

<p>Give the new key a name, paste in the contents of the public key, and hit &ldquo;Save SSH Key&rdquo;.</p>

<h3 id="edit-your-ssh-configuration-file">3. Edit your SSH configuration file.</h3>

<p>Open &ldquo;<code>~/.ssh/config</code>&rdquo; in your favorite text editor.</p>

<pre><code>$ vim ~/.ssh/config
</code></pre>

<p>Note: You might have to create this file if it doesn&rsquo;t exist already.</p>

<p>Add the following to the config file: </p>

<pre><code># Default PHP Fog user (name)
Host phpfog
HostName git01.phpfog.com
User git
IdentityFile /Users/&lt;your username&gt;/.ssh/id_rsa

# 2nd PHP Fog user (name2)
Host phpfog-1
HostName git01.phpfog.com
User git
IdentityFile /Users/&lt;your username&gt;/.ssh/id_rsa_1
</code></pre>

<p>Save and quit. </p>

<h3 id="your-new-git-workflow">4. Your new git workflow.</h3>

<p>From now on, you&rsquo;ll have to modify the way you interact with PHP Fog git repositories slightly. Because you have multiple hosts, you&rsquo;ll have to specify the host&rsquo;s name when you work with these remote repositories. For example:</p>

<p>To clone your first app:</p>

<pre><code>git clone git@phpfog:&lt;your app's git repository&gt;
</code></pre>

<p>And your second:</p>

<pre><code>git clone git@phpfog-1:&lt;your second app's git repository&gt;
</code></pre>


										</div>
									</div>
							</div>
						</div>
					</div>
				</div>
				<div id="root_footer"></div>
			</section>

		</div>
		<footer>
		<div class='wrapper'>
		<div class='logo'>
		<h5>PHP Fog</h5>
		<p>&copy; 2012. All Rights Reserved.</p>
		</div>
		<div class='contact'>
		<h4>Contact Us</h4>
		<ul>
		<li><a href="http://help.phpfog.com">Support</a></li>
		<li><a href="/about">About Us</a></li>
		<li><a href="http://docs.phpfog.com">Documentation</a></li>
		<li class='phone'>1.888.974.7364</li>
		<li class='phone'>1.888.9.PHPFOG</li>
		</ul>
		</div>
		<div class='more-info'>
		<h4>More Info</h4>
		<ul>
		<!-- /%li= link_to "Free Tools", tools_path -->
		<!-- %li -->
		<!-- = link_to "Enterprise", enterprise_path -->
		<li>
		<a href="/privacy">Privacy Policy</a>
		</li>
		<li>
		<a href="/service_agreement">Service Agreement</a>
		</li>
		<li>
		<a href="/terms_of_service">Terms of Service</a>
		</li>
		</ul>
		</div>
		<div class='social'>
		<h4>Social</h4>
		<ul>
		<li class='blog'>
		<a href='http://blog.phpfog.com/'>Blog</a>
		</li>
		<li class='twitter'>
		<a href='http://twitter.com/phpfog'>Twitter</a>
		</li>
		<li class='facebook'>
		<a href='http://on.fb.me/phpfog'>Facebook</a>
		</li>
		<li class='community'>
		<a href='http://community.phpfog.com'>Community</a>
		</li>
		</ul>
		</div>
		</div>
		</footer>
	</body>
</html>
