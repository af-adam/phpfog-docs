<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>PHP Fog &mdash; Documentation Scaling</title> 

		<link rel="stylesheet" href="http://appfog.com/css/style.css">
		<link href="/css/prettify.css" type="text/css" rel="stylesheet" />
		<link href="/css/phpfogdocs.css" rel="stylesheet">
		<!-- typekit -->
		<script type="text/javascript" src="http://use.typekit.com/abw3xjt.js"></script>
		<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
				
		<!-- css -->

		<!-- modernizr -->
		<script src="http://appfog.com/js/libs/modernizr-2.5.3.min.js"></script>

		<script type="text/javascript" src="/js/google-code-prettify/prettify.js"></script>
		<script type="text/javascript" src="/js/jquery.js"></script>
		<script type="text/javascript" src="/js/bootstrap.js"></script>

		
		<link rel="icon" type="image/png" href="https://phpfog.com/favicon.ico" />
	</head>
	<body id="blog" onload="prettyPrint()">
	<div id="header">
		<div class="container">
			<a href="http://appfog.com/" id="app_fog"><img src="http://appfog.com/img/app-fog.png" width="189" height="47" alt="App Fog"></a>
			<ul id="main_nav">
				<li id="nproducts">
					<a href="#" title="Products" class="parent"><span>Products</span></a>
					<ul>
						<li><a href="http://appfog.com/products/appfog">AppFog</a></li>
						<li><a href="http://appfog.com/products/phpfog">PHP Fog</a></li>
					</ul>
				</li>
				<li id="npricing">
					<a href="#" title="Pricing" class="parent"><span>Pricing</span></a>
					<ul>
						<li><a href="https://console.appfog.com/pricing">AppFog</a></li>
						<li><a href="http://appfog.com/products/phpfog/pricing/">PhpFog</a></li>
					</ul>
				</li>
				<li id="nshowcase"><a href="http://appfog.com/showcase/" title="Showcase">Showcase</a></li>
				<li id="nabout"><a href="http://appfog.com/about/" title="About">About</a></li>
				<li id="nsupport"><a href="http://appfog.com/support/" title="Support">Support</a></li>
				<li id="nblog"><a href="http://blog.appfog.com/" title="Blog">Blog</a></li>

				<li id="nlogin">
						  <a href="#" title="Log In" class="btn gray">Log In <i class="icon-chevron-down"></i></a>
						  <form id="log_in_form" class="dropdown">
							<div class="container">
							  <!-- <div class="half">
								<div class="radio_btn" id="log_in_product_php_fog">
								  <span>
									<input type="radio" name="products" value="" id="log_in_php_fog" checked>
								  </span>
								  <label for="log_in_php_fog">Php Fog</label>
								</div>
							  </div>
							  <div class="half">
								<div class="radio_btn" id="log_in_product_appfog">
								  <span>
									<input type="radio" name="products" value="" id="log_in_appfog">
								  </span>
								  <label for="log_in_appfog">AppFog</label>
								</div>
								
							  </div>
							</div> -->
										
							<!-- <hr> -->

							<!-- <div class="container appfog">
							  <input type="email" name="email" value="" id="appfog_log_in_email" placeholder="Email" class="text">
							  <input type="password" name="password" value="" id="appfog_log_in_password" placeholder="Password" class="text">
							</div>
							
							<div class="container php_fog">
							  <input type="email" name="email" value="" id="php_fog_log_in_email" placeholder="Email" class="text">
							  <input type="password" name="password" value="" id="php_fog_log_in_password" placeholder="Password" class="text">
							</div> -->
										

										
							<!-- <div class="container">  
							  <div class="half">
								<div class="checkbox">
								  <span class="active">
									<input type="checkbox" name="remember_me" value="" id="log_in_remember_me" checked>
								  </span>
								</div>
								<label for="log_in_remember_me" class="remember_me">Remember Me</label>
							  </div>

							  <div class="half forgot_password">
								<a href="#">Forgot Password?</a>
							  </div>
							</div> -->
										<a href="https://phpfog.com/login" class="btn bright_green submit" style="font-size: 13px;">Log In to PHP Fog</a>
										<hr>
										<a href="https://console.appfog.com/login" class="btn bright_green submit" style="font-size: 13px;">Log In to AppFog</a>
									</form>
								</li>
								<li id="nsignup">
									<a href="#" title="Sign Up" class="btn bright_green">Sign Up <i class="icon-chevron-down"></i></a>
									<form id="sign_up_form" class="dropdown">
							<!-- <div class="container">
							  <div class="half">
								<div class="radio_btn" id="sign_up_product_php_fog">
								  <span>
									<input type="radio" name="products" value="" id="sign_up_php_fog" checked>
								  </span>
								  <label for="sign_up_php_fog">Php Fog</label>
								</div>
							  </div>
							  <div class="half">
								<div class="radio_btn" id="sign_up_product_appfog">
								  <span>
									<input type="radio" name="products" value="" id="sign_up_appfog">
								  </span>
								  <label for="sign_up_appfog">AppFog</label>
								</div>
								
							  </div>
							</div> -->
										
										<!-- <hr>
													
													<div class="container php_fog">
													  <input type="email" name="email" value="" id="sign_up_php_fog_email" placeholder="Email" class="text">
													  <input type="password" name="password" value="" id="sign_up_password" placeholder="Password" class="text">
													  <input type="password" name="password_confirmation" value="" id="sign_up_password_confirmation" placeholder="Password Confirmation" class="text">
													</div>
													
													<div class="container appfog">
													  <input type="email" name="email" value="" id="sign_up_appfog_email" placeholder="Email" class="text">
													</div> -->
										
										<a href="https://phpfog.com/signup" class="btn bright_green submit" style="font-size: 13px;">Register for PHP Fog</a>
										<hr>
										<a href="http://appfog.com/signup.php" class="btn bright_green submit" style="font-size: 13px;">Register for AppFog</a>
									</form>
								</li>

			</ul>
		</div> 
	</div>
	<div id="main_content">
		<div class='container'>

			
			<div id="top_bar" class="row gray_blue margin_bottom">
				<div class="span12">
					<a href="/"><h1 class="title">PHP Fog Docs</h1></a>
					<ul id="docs_nav">
						
						<li class="breadcrumb-separator">&raquo;</li>
						<li><a href="/best-practices">Best Practices</a></li>
						
						<li class="breadcrumb-separator">&raquo;</li>
						<li><a href="#">Scaling</a></li>
					</ul>
					<!--<ul id="secondary_nav">
						<li><a href="http://docs.appfog.com">AppFog Docs</a></li>
					</ul>-->
				</div>

			</div>
			
					


			<div id="content" class="row white">
				<div class="span8 main_content">
					<div class="row entries">
	<div class="span8">
		<div class="row">
			<div class="span8">
				<h1>Scaling</h1>
				<p>Scalability is one of PHP Fog’s core customer values. We’ve built our infrastructure to make it as easy as possible to scale your app up and down to reflect your traffic demands. </p>

<h3 id="why-do-i-need-to-scale">Why do I need to scale?</h3>

<p>Scaling is ultimately about giving your users a good experience, and one of the biggest factors of usability is response time. Generally, as your load goes up, your app’s response times get slower, and the user experience suffers. Easy scalability allows you to offer a great user experience regardless of how much traffic you’re facing. </p>

<p>Here’s a quote from web usability expert <a href="http://www.useit.com/jakob/">Jakob Nielsen</a>’s book <a href="http://www.amazon.com/exec/obidos/ASIN/0125184069/ref=nosim/useitcomusablein">Usability Engineering</a>:</p>

<blockquote>
  <p>The basic advice regarding response times has been about the same for thirty years [Miller 1968; Card et al. 1991]:</p>

  <p>0.1 second is about the limit for having the user feel that the system is reacting instantaneously, meaning that no special feedback is necessary except to display the result.</p>

  <p>1.0 second is about the limit for the user’s flow of thought to stay uninterrupted, even though the user will notice the delay. Normally, no special feedback is necessary during delays of more than 0.1 but less than 1.0 second, but the user does lose the feeling of operating directly on the data.</p>
</blockquote>

<p>User experience isn’t the only thing that response time affects, either. <a href="http://googlewebmastercentral.blogspot.com/2010/04/using-site-speed-in-web-search-ranking.html">Google announced in 2010</a> that site response time affects search engine ranking, too. </p>

<h3 id="before-you-scale">Before You Scale</h3>

<p>Before you even decide if and how much you need to scale, though, you should first optimize the performance of your app. <a href="http://developer.yahoo.com/performance/rules.html">This article</a> is an excellent starting point for that.</p>

<p>Next you should read our guides on <a href="/best-practices/caching">Caching</a> and <a href="/best-practice/storage">Storage</a> to get your app running as fast as possible at any scale, and to prepare your app for scaling. </p>

<h3 id="when-do-i-need-to-scale">When do I need to scale?</h3>

<p>As mentioned above, 1.0 second is the base threshold you should be shooting for to provide a good user experience, but faster is always better. PHP Fog gives you the tools to decide exactly how fast you want your app to be. </p>

<p>The first question is: how fast is my app now? You have to know your current response times to decide whether you need to make them faster.</p>

<p>In order to answer that question for PHP Fog users, we’ve partnered with New Relic, a web app performance monitoring service. We provide deep integration with New Relic on all of our Dedicated Clouds for free. </p>

<p>New Relic allows you to monitor your app’s up-time and response times, as well as your Cloud’s system performance stats like CPU load and RAM usage. </p>

<p>Read more about New Relic <a href="/addons/newrelic">here</a>.</p>

<h3 id="how-do-i-scale">How do I scale?</h3>

<p>PHP Fog lets you choose between scaling up and scaling out. Scaling up means upgrading your existing server(s) to more powerful virtual machines. You can see the differences between the tiers we have available <a href="https://phpfog.com/pricing">here</a>. Scaling out, on the other hand, means adding servers of the same tier to your existing Cloud. </p>

<p>Your decision on whether to scale up or scale out (or both!) will depend on the nature of your app, your budget considerations, and your traffic. Fortunately, PHP Fog makes scaling easy and flexible enough to let you experiment and figure out exactly what’s right for you. </p>

<h4 id="scale-up">Scale Up</h4>

<p>Scaling up is extremely easy. If you’re upgrading a Shared app, just go to your app console, click on the “Upgrade” tab on the left, choose the level you want to upgrade to, and hit the “Save Changes” button. If you’re upgrading a Dedicated app, go to your Cloud console, click on the “Scaling” button, choose the level you want to upgrade to, and hit the “Save Changes” button. </p>

<p><img class="screenshot" src="/img/screenshots/upgrade.png" alt="Scale Up" /></p>

<p>That’s it! Cloud upgrades generally take a few hours, and no more than 24. </p>

<p>Note: You can migrate back and forth between any level of Dedicated Cloud, but because of the more restrictive nature of Shared, once you upgrade from a Shared Cloud to a Dedicated Cloud, you cannot downgrade back to Shared. </p>

<h4 id="scale-out">Scale Out</h4>

<p>Scaling out is easy, too. Just go to your Cloud console, click on the “Scaling” button. </p>

<p><img class="screenshot" src="/img/screenshots/scaling-1.png" alt="Scale Out" /></p>

<p><img class="screenshot" src="/img/screenshots/scaling-2.png" alt="Scale Out" /></p>

<p>Then drag the slider to the number of servers you want, and click the “Save Changes” button. </p>

<p><img class="screenshot" src="/img/screenshots/scaling-slider.png" alt="Scale Out" /></p>

<p>That’s it! Scaling to more servers generally take just a few minutes. </p>

<p>Note: If your app stores any data, uploaded content, or session data on the local file system, scaling out can present a problem. Each server has its own file system, so changes made to one will not reflect on the others. To prevent this, you want to build your app in a “stateless” manner. Read on to learn more.</p>

<h3 id="stateless-architecture">Stateless Architecture</h3>

<p>When your app runs on multiple servers, each server is a completely separate virtual machine with no shared file system, and PHP Fog’s load balancers distribute HTTP requests across those servers. This means you have to assume that any two requests will go to different servers.</p>

<p>So you’ll want to:</p>

<ul>
  <li>Store static data and assets in external storage, e.g. Amazon’s S3. Read more in our <a href="/best-practices/storage">Storage guide</a>.</li>
  <li>Store cookie and session data in the database. </li>
</ul>

<p>And optionally: </p>

<ul>
  <li>Set up your own memcached server on Amazon’s EC2 service (in the US-East region). </li>
</ul>


			</div>
		</div>
	</div>
</div>

				</div>

				<div class="span3 sidebar padding accordion" id="accordion2">
					<div class="row border-bottom">
						<div class="span3">
							<form id="search-form" action="/search">
								<input type="search" placeholder="Search" id="search" name="q" size="30" />
								<input class="btn gray_blue search" type="submit" value="Go" />
							</form>
						</div>
					</div>
					<div class="accordion-group">
						<div class="row border-bottom accordion-heading">
							<div class="span3">
								<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseOne"><h6>Getting Started <i class="accordion-icon icon-chevron-right"></i></h6></a>
							</div>
						</div>
						
						<ul class="pages accordion-body collapse" id="collapseOne" style="height: 0;">
						
							<div class="accordion-inner">
								
								<li><a href="/getting-started/jumpstarts.html" >Jumpstarts</a></li>
								
								<li><a href="/getting-started/pf-command-line-tool.html" >PF Command Line Tool</a></li>
								
								<li><a href="/getting-started/ssh.html" >SSH</a></li>
								
								<li><a href="/getting-started/git.html" >Git</a></li>
								
								<li><a href="/getting-started/env-vars.html" >Environment Variables</a></li>
								
								<li><a href="/getting-started/development.html" >Development</a></li>
								
							</div>
						</ul>
					</div>

					<div class="accordion-group">
						<div class="row border-bottom accordion-heading">
						<div class="span3">
								<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseTwo"><h6>Customize Your App <i class="icon-chevron-right"></i></h6></a>
							</div>
						</div>
						
						<ul class="pages accordion-body collapse" id="collapseTwo" style="height: 0;">
						
							<div class="accordion-inner">
							
							<li><a href="/customize/add-ons.html" >Add-ons</a></li>
							
							<li><a href="/customize/custom-domain-names.html" >Custom Domain Names</a></li>
							
							<li><a href="/customize/ssl.html" >SSL for Custom Domain Names</a></li>
							
							<li><a href="/customize/permissions.html" >Permissions</a></li>
							
							<li><a href="/customize/cron.html" >Cron Jobs</a></li>
							
							<li><a href="/customize/logs.html" >Logs</a></li>
							
							<li><a href="/customize/database.html" >Database</a></li>
							
							<li><a href="/customize/email.html" >Email</a></li>
							
							<li><a href="/customize/php_ini.html" >php.ini</a></li>
							
							</div>
						</ul>
					</div>

					<div class="accordion-group">
						<div class="row border-bottom accordion-heading">
							<div class="span3">
								<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseThree"><h6>Best Practices <i class="icon-chevron-right"></i></h6></a>
							</div>
						</div>
						
						<ul class="pages accordion-body collapse in" id="collapseThree" style="height: auto;">
						
							<div class="accordion-inner">
							
							<li><a href="/best-practices/caching.html" >Caching</a></li>
							
							<li><a href="/best-practices/storage.html" >Storage</a></li>
							
							<li><a href="/best-practices/scaling.html" class="on">Scaling</a></li>
							
							</div>
						</ul>
					</div>

						<div class="row border-bottom"><div class="span3"><a href="/faqs.html" ><h6>FAQ</h6></div></a></div>
						<div class="row border-bottom"><div class="span3"><a href="http://phpfog.com/pricing"><h6>Pricing</h6></a></div></div>
						<div class="row border-bottom"><div class="span3"><a href="/billing.html" ><h6>Billing</h6></div></a></div>
						<div class="row border-bottom"><div class="span3"><a href="/reliability.html" ><h6>Reliability</h6></div></a></div>
						<div class="row border-bottom"><div class="span3"><a href="/security.html" ><h6>Security</h6></div></a></div>
						<div class="row border-bottom"><div class="span3"><a href="/troubleshooting.html" ><h6>Troubleshooting</h6></div></a></div>

						<div class="row top-link"><div class="span3"><a href="#">&uarr; top</a></div></div>

					</div>
				</div>
			</div><!-- content -->
		</div><!-- container -->
	</div><!-- main_content -->

	<div id="footer">
		<div class="container">
			<div class="row">
				<div class="span1">
					<img src="http://appfog.com/img/bydevfordev_95.png" width="95" height="79" alt="By Developers For Developers" id="badge">
				</div>
				<div class="span3">
					<h4>About AppFog</h4>
					<p>Easily build and deploy fast, scalable, and reliable applications to the cloud in seconds. Yeah, it’s that easy.</p>					
				</div>
				<div class="span2">
					<h4>Info</h4>
					<ul>
						<li><a href="http://appfog.com/support/">Support</a></li>
						<li><a href="https://appfog.com/about/">About</a></li>
						<li><a href="http://dev.appfog.com/">Documentation</a></li>
					</ul>
				</div>
				<div class="span2 offsettop">
					<ul>
						<li>Phone: 1.888.974.7364</li>
						<li>&copy; <script>document.write(new Date().getFullYear());</script> AppFog.</li>
						<li>All Rights Reserved.</li>
					</ul>
				</div>
				<div class="span4">
					<h4>Social</h4>
					<ul id="social">
						<li id="facebook"><a href="http://www.facebook.com/pages/AppFog/159333004147490">Facebook</a></li>
						<li id="twitter"><a href="https://twitter.com/#!/appfog">Twitter</a></li>
						<li id="linkedin"><a href="http://www.linkedin.com/company/appfog">LinkedIn</a></li>
					</ul>
				</div>
			</div>
		</div> <!-- / .container -->
	</div>
	
	
<!-- scripts -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://appfog.com/js/libs/jquery-1.7.1.min.js"><\/script>')</script>
<script src="http://appfog.com/js/plugins.js"></script>
<script src="http://appfog.com/js/script.js"></script>
<script type="text/javascript" src="/js/phpfogdocs.js"></script>

</body>
</html>
