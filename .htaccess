DirectoryIndex index.html index.xml

# Redirect old doc URLs

redirect 301 /features/article/getting_started_custom_application /getting-started/ssh/
redirect 301 /features/article/getting_started_pf_command_line /getting-started/pf-command-line-tool/
redirect 301 /features/article/caching_with_apc /best-practices/caching#apc
redirect 301 /features/article/composer /getting-started/git#composer
redirect 301 /features/article/generating_a_ssh_key /getting-started/ssh/
redirect 301 /features/article/gitignore /getting-started/git#gitignore
redirect 301 /features/article/handling_multiple_ssh_keys /getting-started/ssh#multiple
redirect 301 /features/article/handling_large_static_assets /best-practices/storage/
redirect 301 /features/article/changing_file_folder_permissions /customize/permissions/
redirect 301 /features/article/pf_command_line_tool /getting-started/pf-command-line-tool/
redirect 301 /features/article/custom_ssl /customize/ssl/
redirect 301 /features/article/scaling_your_application /best-practices/scaling/
redirect 301 /features/article/sending_email /customize/email/
redirect 301 /features/article/set_php.ini_values_using_.htaccess_and_set_ini /customize/php_ini/
redirect 301 /features/article/setup_dns_records /customize/custom-domain-names/
redirect 301 /features/article/shared_vs_dedicated /faqs/#sharedvdedicated
redirect 301 /features/article/tips_and_tricks /best-practices/
redirect 301 /features/article/troubleshooting_http_500_errors /troubleshooting/#500
redirect 301 /features/article/troubleshooting_timeouts /troubleshooting/#500
redirect 301 /features/article/what_you_need_to_know /best-practices/
redirect 301 /features/article/working_around_limitations /best-practices/
redirect 301 /features/article/faq /faqs/
redirect 301 /features/article/faq_billing /billing/
redirect 301 /features/article/database /customize/database/
redirect 301 /features/article/faq_how_reliable_is_php_fog /reliability/
redirect 301 /features/article/faq_git_and_ssh /getting-started/git/
redirect 301 /features/article/amazon_rds /customize/database#third-party-databases
redirect 301 /features/article/amazon_s3 /best-practices/storage/
redirect 301 /features/article/caching /best-practices/caching/
redirect 301 /features/article/blitz /addons/blitz
redirect 301 /features/article/cleardb /addons/cleardb
redirect 301 /features/article/cloudmailin /addons/cloudmailin
redirect 301 /features/article/ironmq /addons/ironmq
redirect 301 /features/article/ironworker /addons/ironworker
redirect 301 /features/article/mailgun /addons/mailgun
redirect 301 /features/article/mongohq /addons/mongohq
redirect 301 /features/article/mongolab /addons/mongolab
redirect 301 /features/article/new_relic /addons/newrelic
redirect 301 /features/article/supported_frameworks http://www.phpfog.com/jumpstarts
redirect 301 /customize/addons http://www.phpfog.com/addons

# redirect 301 /features/article/facebook 
# redirect 301 /features/article/migrate_your_wordpress_blog_to_php_fog 
# redirect 301 /features/article/upgrading_wordpress 

Options +FollowSymlinks
RewriteEngine On
DirectorySlash Off

# Append trailing slash to directories
RewriteCond %{REQUEST_FILENAME} -d
RewriteCond %{REQUEST_URI} !(.*)/$
RewriteRule ^_site/(.*)$ http://%{HTTP_HOST}/$1/ [L,R=301]

# Remove .html extension
RewriteCond %{THE_REQUEST} ^(GET|HEAD)\ /.+\.html\ HTTP
RewriteRule ^_site/(.+)\.html$ http://%{HTTP_HOST}/$1/ [R=301,L]

# add .html file extension (if such file does exist)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^.+$ %{REQUEST_FILENAME}.html [L]
